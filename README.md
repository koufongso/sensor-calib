# sensor-calib
## Description

<p>This is for experiment to find the delay between imu and the camera.</p>
<p>The imu and camera was tied together. First we recored one ros bag with no input to the device (static). Then in another record, we put the device in static condition and then gave it a suddent movement (i.e. a sudden rotation). By analying the signal from two snesors and the timestamp, we can find the average delay between the imu and the camera.</p>

<p>And there are serveral files in the package:</p> 

### sensor_calib_node:
<p> usage: sensor_calib_node &ltinput bag file path&gt &ltoutput txt file patg&gt
<p>take an input bag file and extract the "/usb_cam/image_raw" topics and then calculate the square sum different between current frame and previous frame. Then the reuslt will be save in the txt file if provided.If not, it will save as "example.txt".</p>

### stat.py
<p> usage: stat.py</p>
<p> To calculate the sensor noise of imu and the camera, it take an static imu record from the bag file and the static camera record which is generated by the sensor_calib_node. Assuming they satisfied the Guassina distribution and calculated the statistic value.

### cusum.py
<p> This taken the static data of imu (bag file) and camera (txt file like the stat.py). Find the Gaussian distribution statitcia parameter and use them in cusum method to find the change in the experiment data.</p>

### calibrate.py     
<p> The final product, integrate the stat.py and cusum.py, and eventually find the average delay between the imu and the camera.</p>

## Illustration
![result](https://github.com/koufongso/sensor-calib/blob/master/result.png)
       
          
        
